{"ast":null,"code":"var _jsxFileName = \"C:\\\\MAMP\\\\htdocs\\\\VK-Apps-Image-Example-master\\\\VK-Apps-Image-Example-master\\\\src\\\\App.js\";\nimport React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport { Avatar, Button, Div, FormLayout, Group, Header, Input, Panel, PanelHeader, PanelHeaderContent, Text, View } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getImage = async () => {\n      const image = document.getElementById('url').value;\n      console.log({\n        image\n      });\n\n      if (image) {\n        this.setState({\n          image\n        });\n      }\n    };\n\n    this.state = {\n      user: null\n    };\n  }\n\n  componentDidMount() {\n    bridge.send('VKWebAppGetUserInfo', {}).then(user => {\n      this.setState({\n        user\n      });\n    });\n  }\n\n  render() {\n    const {\n      user,\n      image\n    } = this.state;\n    return /*#__PURE__*/React.createElement(View, {\n      activePanel: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Panel, {\n      id: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(PanelHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }\n    }, user ? /*#__PURE__*/React.createElement(PanelHeaderContent, {\n      status: \"VK Apps Image Example\",\n      before: /*#__PURE__*/React.createElement(Avatar, {\n        size: 36,\n        src: user.photo_100,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 46\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 33\n      }\n    }, user.first_name) : 'VK Apps Image Example'), /*#__PURE__*/React.createElement(Group, {\n      header: /*#__PURE__*/React.createElement(Header, {\n        mode: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 37\n        }\n      }, \"\\u0417\\u0430\\u0434\\u0430\\u043D\\u0438\\u0435\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Div, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }\n    }, \"\\u0423 \\u043D\\u0430\\u0441 \\u0435\\u0441\\u0442\\u044C \\u043C\\u0438\\u043D\\u0438-\\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0435, \\u043A\\u043E\\u0442\\u043E\\u0440\\u043E\\u0435 \\u0438\\u043C\\u0435\\u0435\\u0442 \\u0432\\u043E\\u0437\\u043C\\u043E\\u0436\\u043D\\u043E\\u0441\\u0442\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0436\\u0430\\u0442\\u044C \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F \\u043F\\u043E \\u0432\\u043D\\u0435\\u0448\\u043D\\u0435\\u0439 \\u0441\\u0441\\u044B\\u043B\\u043A\\u0435. \\u0423\\u0432\\u044B, \\u0432 \\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0438 \\u0434\\u043E\\u043F\\u0443\\u0449\\u0435\\u043D\\u0430 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430, \\u0438\\u0437-\\u0437\\u0430 \\u0447\\u0435\\u0433\\u043E \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D\\u043D\\u044B\\u0439 \\u0441\\u0435\\u0440\\u0432\\u0435\\u0440 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0430\\u0435\\u0442 \\u043F\\u0430\\u0440\\u0430\\u043C\\u0435\\u0442\\u0440\\u044B \\u0437\\u0430\\u043F\\u0443\\u0441\\u043A\\u0430 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0435\\u0439, \\u043A\\u043E\\u0442\\u043E\\u0440\\u044B\\u0435 \\u0432\\u0441\\u0442\\u0430\\u0432\\u043B\\u044F\\u044E\\u0442 \\u0441\\u0441\\u044B\\u043B\\u043A\\u0443. \\u041D\\u0443\\u0436\\u043D\\u043E \\u043E\\u0431\\u044A\\u044F\\u0441\\u043D\\u0438\\u0442\\u044C \\u043F\\u043E\\u0447\\u0435\\u043C\\u0443 \\u0442\\u0430\\u043A \\u043F\\u0440\\u043E\\u0438\\u0441\\u0445\\u043E\\u0434\\u0438\\u0442 \\u0438 \\u0438\\u0441\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \\u0441\\u0438\\u0442\\u0443\\u0430\\u0446\\u0438\\u044E \\u043A\\u0440\\u0430\\u0441\\u0438\\u0432\\u043E \\u0438 \\u043B\\u0430\\u043A\\u043E\\u043D\\u0438\\u0447\\u043D\\u043E.\"), /*#__PURE__*/React.createElement(Div, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }\n    }, \"\\u0414\\u043B\\u044F \\u043E\\u0431\\u043B\\u0435\\u0433\\u0447\\u0435\\u043D\\u0438\\u044F \\u0442\\u0435\\u0441\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F \\u043C\\u043E\\u0436\\u043D\\u043E \\u0438\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u044C \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443 \", /*#__PURE__*/React.createElement(Text, {\n      weight: \"semibold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 85\n      }\n    }, \"https://service.pavel.im/image\"), \" (good code \\u2014 \\u0432\\u0441\\u0435 \\u043A\\u0440\\u0443\\u0442\\u043E, bad code \\u2014 \\u0441\\u0435\\u0440\\u0432\\u0435\\u0440 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0438\\u043B \\u043F\\u0430\\u0440\\u0430\\u043C\\u0435\\u0442\\u0440\\u044B \\u0437\\u0430\\u043F\\u0443\\u0441\\u043A\\u0430)\"), /*#__PURE__*/React.createElement(FormLayout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      id: \"url\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      size: \"xl\",\n      onClick: this.getImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 29\n      }\n    }, \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C\")), !!image && /*#__PURE__*/React.createElement(Div, {\n      style: {\n        textAlign: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: image,\n      alt: \"remote file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 33\n      }\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/MAMP/htdocs/VK-Apps-Image-Example-master/VK-Apps-Image-Example-master/src/App.js"],"names":["React","bridge","Avatar","Button","Div","FormLayout","Group","Header","Input","Panel","PanelHeader","PanelHeaderContent","Text","View","App","Component","constructor","props","getImage","image","document","getElementById","value","console","log","setState","state","user","componentDidMount","send","then","render","photo_100","first_name","textAlign"],"mappings":"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","sourcesContent":["import React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport {\n    Avatar,\n    Button,\n    Div,\n    FormLayout,\n    Group,\n    Header,\n    Input,\n    Panel,\n    PanelHeader,\n    PanelHeaderContent,\n    Text,\n    View\n} from '@vkontakte/vkui';\n\nimport '@vkontakte/vkui/dist/vkui.css';\n\nclass App extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tuser: null\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tbridge.send('VKWebAppGetUserInfo', {})\n\t\t\t.then((user) => {\n\t\t\t\tthis.setState({ user });\n\t\t\t});\n\t}\n\n\tgetImage = async () => {\n        const image = document.getElementById('url').value;\n\n        console.log({image});\n\n        if (image) {\n\t\t\tthis.setState({ image });\n\t\t}\n\t};\n\n\trender() {\n\t\tconst { user, image } = this.state;\n\n\t\treturn (\n            <View activePanel=\"main\">\n                <Panel id=\"main\">\n                    <PanelHeader>\n\t\t\t\t\t\t{\n                            user ?\n                                <PanelHeaderContent\n                                    status=\"VK Apps Image Example\"\n                                    before={ <Avatar size={ 36 } src={ user.photo_100 } /> }\n                                >\n                                    { user.first_name }\n                                </PanelHeaderContent>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t'VK Apps Image Example'\n\t\t\t\t\t\t}\n                    </PanelHeader>\n\n                    <Group header={ <Header mode=\"secondary\">Задание</Header> }>\n\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\tУ нас есть мини-приложение, которое имеет возможность загружать изображения по внешней ссылке. Увы, в приложении допущена ошибка, из-за чего удаленный сервер получает параметры запуска пользователей, которые вставляют ссылку. Нужно объяснить почему так происходит и исправить ситуацию красиво и лаконично.\n\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t<Div>\n                            Для облегчения тестирования можно использовать картинку <Text weight=\"semibold\">https://service.pavel.im/image</Text> (good code — все круто, bad code — сервер получил параметры запуска)\n\t\t\t\t\t\t</Div>\n\n                        <FormLayout>\n                            <Input type=\"text\" id=\"url\" />\n\n                            <Button size=\"xl\" onClick={ this.getImage }>Загрузить</Button>\n                        </FormLayout>\n\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t!!image &&\n\t\t\t\t\t\t\t<Div style={{ textAlign: 'center' }}>\n                                <img src={ image } alt=\"remote file\" />\n\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t}\n                    </Group>\n                </Panel>\n            </View>\n\t\t);\n\t}\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}